{"version":3,"file":"static/js/5297.60adf000.chunk.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/common/observableInternal/logging.js","../node_modules/monaco-editor/esm/vs/base/common/observableInternal/utils.js","../node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js","../node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js","../node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet globalObservableLogger;\nexport function setLogger(logger) {\n    globalObservableLogger = logger;\n}\nexport function getLogger() {\n    return globalObservableLogger;\n}\nexport class ConsoleObservableLogger {\n    constructor() {\n        this.indentation = 0;\n        this.changedObservablesSets = new WeakMap();\n    }\n    textToConsoleArgs(text) {\n        return consoleTextToArgs([\n            normalText(repeat('|  ', this.indentation)),\n            text,\n        ]);\n    }\n    formatInfo(info) {\n        if (!info.hadValue) {\n            return [\n                normalText(` `),\n                styled(formatValue(info.newValue, 60), {\n                    color: 'green',\n                }),\n                normalText(` (initial)`),\n            ];\n        }\n        return info.didChange\n            ? [\n                normalText(` `),\n                styled(formatValue(info.oldValue, 70), {\n                    color: 'red',\n                    strikeThrough: true,\n                }),\n                normalText(` `),\n                styled(formatValue(info.newValue, 60), {\n                    color: 'green',\n                }),\n            ]\n            : [normalText(` (unchanged)`)];\n    }\n    handleObservableChanged(observable, info) {\n        console.log(...this.textToConsoleArgs([\n            formatKind('observable value changed'),\n            styled(observable.debugName, { color: 'BlueViolet' }),\n            ...this.formatInfo(info),\n        ]));\n    }\n    formatChanges(changes) {\n        if (changes.size === 0) {\n            return undefined;\n        }\n        return styled(' (changed deps: ' +\n            [...changes].map((o) => o.debugName).join(', ') +\n            ')', { color: 'gray' });\n    }\n    handleDerivedCreated(derived) {\n        const existingHandleChange = derived.handleChange;\n        this.changedObservablesSets.set(derived, new Set());\n        derived.handleChange = (observable, change) => {\n            this.changedObservablesSets.get(derived).add(observable);\n            return existingHandleChange.apply(derived, [observable, change]);\n        };\n    }\n    handleDerivedRecomputed(derived, info) {\n        const changedObservables = this.changedObservablesSets.get(derived);\n        console.log(...this.textToConsoleArgs([\n            formatKind('derived recomputed'),\n            styled(derived.debugName, { color: 'BlueViolet' }),\n            ...this.formatInfo(info),\n            this.formatChanges(changedObservables),\n            { data: [{ fn: derived._debugNameData.referenceFn ?? derived._computeFn }] }\n        ]));\n        changedObservables.clear();\n    }\n    handleFromEventObservableTriggered(observable, info) {\n        console.log(...this.textToConsoleArgs([\n            formatKind('observable from event triggered'),\n            styled(observable.debugName, { color: 'BlueViolet' }),\n            ...this.formatInfo(info),\n            { data: [{ fn: observable._getValue }] }\n        ]));\n    }\n    handleAutorunCreated(autorun) {\n        const existingHandleChange = autorun.handleChange;\n        this.changedObservablesSets.set(autorun, new Set());\n        autorun.handleChange = (observable, change) => {\n            this.changedObservablesSets.get(autorun).add(observable);\n            return existingHandleChange.apply(autorun, [observable, change]);\n        };\n    }\n    handleAutorunTriggered(autorun) {\n        const changedObservables = this.changedObservablesSets.get(autorun);\n        console.log(...this.textToConsoleArgs([\n            formatKind('autorun'),\n            styled(autorun.debugName, { color: 'BlueViolet' }),\n            this.formatChanges(changedObservables),\n            { data: [{ fn: autorun._debugNameData.referenceFn ?? autorun._runFn }] }\n        ]));\n        changedObservables.clear();\n        this.indentation++;\n    }\n    handleAutorunFinished(autorun) {\n        this.indentation--;\n    }\n    handleBeginTransaction(transaction) {\n        let transactionName = transaction.getDebugName();\n        if (transactionName === undefined) {\n            transactionName = '';\n        }\n        console.log(...this.textToConsoleArgs([\n            formatKind('transaction'),\n            styled(transactionName, { color: 'BlueViolet' }),\n            { data: [{ fn: transaction._fn }] }\n        ]));\n        this.indentation++;\n    }\n    handleEndTransaction() {\n        this.indentation--;\n    }\n}\nfunction consoleTextToArgs(text) {\n    const styles = new Array();\n    const data = [];\n    let firstArg = '';\n    function process(t) {\n        if ('length' in t) {\n            for (const item of t) {\n                if (item) {\n                    process(item);\n                }\n            }\n        }\n        else if ('text' in t) {\n            firstArg += `%c${t.text}`;\n            styles.push(t.style);\n            if (t.data) {\n                data.push(...t.data);\n            }\n        }\n        else if ('data' in t) {\n            data.push(...t.data);\n        }\n    }\n    process(text);\n    const result = [firstArg, ...styles];\n    result.push(...data);\n    return result;\n}\nfunction normalText(text) {\n    return styled(text, { color: 'black' });\n}\nfunction formatKind(kind) {\n    return styled(padStr(`${kind}: `, 10), { color: 'black', bold: true });\n}\nfunction styled(text, options = {\n    color: 'black',\n}) {\n    function objToCss(styleObj) {\n        return Object.entries(styleObj).reduce((styleString, [propName, propValue]) => {\n            return `${styleString}${propName}:${propValue};`;\n        }, '');\n    }\n    const style = {\n        color: options.color,\n    };\n    if (options.strikeThrough) {\n        style['text-decoration'] = 'line-through';\n    }\n    if (options.bold) {\n        style['font-weight'] = 'bold';\n    }\n    return {\n        text,\n        style: objToCss(style),\n    };\n}\nfunction formatValue(value, availableLen) {\n    switch (typeof value) {\n        case 'number':\n            return '' + value;\n        case 'string':\n            if (value.length + 2 <= availableLen) {\n                return `\"${value}\"`;\n            }\n            return `\"${value.substr(0, availableLen - 7)}\"+...`;\n        case 'boolean':\n            return value ? 'true' : 'false';\n        case 'undefined':\n            return 'undefined';\n        case 'object':\n            if (value === null) {\n                return 'null';\n            }\n            if (Array.isArray(value)) {\n                return formatArray(value, availableLen);\n            }\n            return formatObject(value, availableLen);\n        case 'symbol':\n            return value.toString();\n        case 'function':\n            return `[[Function${value.name ? ' ' + value.name : ''}]]`;\n        default:\n            return '' + value;\n    }\n}\nfunction formatArray(value, availableLen) {\n    let result = '[ ';\n    let first = true;\n    for (const val of value) {\n        if (!first) {\n            result += ', ';\n        }\n        if (result.length - 5 > availableLen) {\n            result += '...';\n            break;\n        }\n        first = false;\n        result += `${formatValue(val, availableLen - result.length)}`;\n    }\n    result += ' ]';\n    return result;\n}\nfunction formatObject(value, availableLen) {\n    let result = '{ ';\n    let first = true;\n    for (const [key, val] of Object.entries(value)) {\n        if (!first) {\n            result += ', ';\n        }\n        if (result.length - 5 > availableLen) {\n            result += '...';\n            break;\n        }\n        first = false;\n        result += `${key}: ${formatValue(val, availableLen - result.length)}`;\n    }\n    result += ' }';\n    return result;\n}\nfunction repeat(str, count) {\n    let result = '';\n    for (let i = 1; i <= count; i++) {\n        result += str;\n    }\n    return result;\n}\nfunction padStr(str, length) {\n    while (str.length < length) {\n        str += ' ';\n    }\n    return str;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Event } from '../event.js';\nimport { DisposableStore, toDisposable } from '../lifecycle.js';\nimport { BaseObservable, ConvenientObservable, _setKeepObserved, _setRecomputeInitiallyAndOnChange, subtransaction, transaction } from './base.js';\nimport { DebugNameData } from './debugName.js';\nimport { derived, derivedOpts } from './derived.js';\nimport { getLogger } from './logging.js';\nimport { strictEquals } from '../equals.js';\n/**\n * Represents an efficient observable whose value never changes.\n */\nexport function constObservable(value) {\n    return new ConstObservable(value);\n}\nclass ConstObservable extends ConvenientObservable {\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n    get debugName() {\n        return this.toString();\n    }\n    get() {\n        return this.value;\n    }\n    addObserver(observer) {\n        // NO OP\n    }\n    removeObserver(observer) {\n        // NO OP\n    }\n    toString() {\n        return `Const: ${this.value}`;\n    }\n}\nexport function observableFromEvent(...args) {\n    let owner;\n    let event;\n    let getValue;\n    if (args.length === 3) {\n        [owner, event, getValue] = args;\n    }\n    else {\n        [event, getValue] = args;\n    }\n    return new FromEventObservable(new DebugNameData(owner, undefined, getValue), event, getValue, () => FromEventObservable.globalTransaction, strictEquals);\n}\nexport function observableFromEventOpts(options, event, getValue) {\n    return new FromEventObservable(new DebugNameData(options.owner, options.debugName, options.debugReferenceFn ?? getValue), event, getValue, () => FromEventObservable.globalTransaction, options.equalsFn ?? strictEquals);\n}\nexport class FromEventObservable extends BaseObservable {\n    constructor(_debugNameData, event, _getValue, _getTransaction, _equalityComparator) {\n        super();\n        this._debugNameData = _debugNameData;\n        this.event = event;\n        this._getValue = _getValue;\n        this._getTransaction = _getTransaction;\n        this._equalityComparator = _equalityComparator;\n        this.hasValue = false;\n        this.handleEvent = (args) => {\n            const newValue = this._getValue(args);\n            const oldValue = this.value;\n            const didChange = !this.hasValue || !(this._equalityComparator(oldValue, newValue));\n            let didRunTransaction = false;\n            if (didChange) {\n                this.value = newValue;\n                if (this.hasValue) {\n                    didRunTransaction = true;\n                    subtransaction(this._getTransaction(), (tx) => {\n                        getLogger()?.handleFromEventObservableTriggered(this, { oldValue, newValue, change: undefined, didChange, hadValue: this.hasValue });\n                        for (const o of this.observers) {\n                            tx.updateObserver(o, this);\n                            o.handleChange(this, undefined);\n                        }\n                    }, () => {\n                        const name = this.getDebugName();\n                        return 'Event fired' + (name ? `: ${name}` : '');\n                    });\n                }\n                this.hasValue = true;\n            }\n            if (!didRunTransaction) {\n                getLogger()?.handleFromEventObservableTriggered(this, { oldValue, newValue, change: undefined, didChange, hadValue: this.hasValue });\n            }\n        };\n    }\n    getDebugName() {\n        return this._debugNameData.getDebugName(this);\n    }\n    get debugName() {\n        const name = this.getDebugName();\n        return 'From Event' + (name ? `: ${name}` : '');\n    }\n    onFirstObserverAdded() {\n        this.subscription = this.event(this.handleEvent);\n    }\n    onLastObserverRemoved() {\n        this.subscription.dispose();\n        this.subscription = undefined;\n        this.hasValue = false;\n        this.value = undefined;\n    }\n    get() {\n        if (this.subscription) {\n            if (!this.hasValue) {\n                this.handleEvent(undefined);\n            }\n            return this.value;\n        }\n        else {\n            // no cache, as there are no subscribers to keep it updated\n            const value = this._getValue(undefined);\n            return value;\n        }\n    }\n}\n(function (observableFromEvent) {\n    observableFromEvent.Observer = FromEventObservable;\n    function batchEventsGlobally(tx, fn) {\n        let didSet = false;\n        if (FromEventObservable.globalTransaction === undefined) {\n            FromEventObservable.globalTransaction = tx;\n            didSet = true;\n        }\n        try {\n            fn();\n        }\n        finally {\n            if (didSet) {\n                FromEventObservable.globalTransaction = undefined;\n            }\n        }\n    }\n    observableFromEvent.batchEventsGlobally = batchEventsGlobally;\n})(observableFromEvent || (observableFromEvent = {}));\nexport function observableSignalFromEvent(debugName, event) {\n    return new FromEventObservableSignal(debugName, event);\n}\nclass FromEventObservableSignal extends BaseObservable {\n    constructor(debugName, event) {\n        super();\n        this.debugName = debugName;\n        this.event = event;\n        this.handleEvent = () => {\n            transaction((tx) => {\n                for (const o of this.observers) {\n                    tx.updateObserver(o, this);\n                    o.handleChange(this, undefined);\n                }\n            }, () => this.debugName);\n        };\n    }\n    onFirstObserverAdded() {\n        this.subscription = this.event(this.handleEvent);\n    }\n    onLastObserverRemoved() {\n        this.subscription.dispose();\n        this.subscription = undefined;\n    }\n    get() {\n        // NO OP\n    }\n}\nexport function observableSignal(debugNameOrOwner) {\n    if (typeof debugNameOrOwner === 'string') {\n        return new ObservableSignal(debugNameOrOwner);\n    }\n    else {\n        return new ObservableSignal(undefined, debugNameOrOwner);\n    }\n}\nclass ObservableSignal extends BaseObservable {\n    get debugName() {\n        return new DebugNameData(this._owner, this._debugName, undefined).getDebugName(this) ?? 'Observable Signal';\n    }\n    toString() {\n        return this.debugName;\n    }\n    constructor(_debugName, _owner) {\n        super();\n        this._debugName = _debugName;\n        this._owner = _owner;\n    }\n    trigger(tx, change) {\n        if (!tx) {\n            transaction(tx => {\n                this.trigger(tx, change);\n            }, () => `Trigger signal ${this.debugName}`);\n            return;\n        }\n        for (const o of this.observers) {\n            tx.updateObserver(o, this);\n            o.handleChange(this, change);\n        }\n    }\n    get() {\n        // NO OP\n    }\n}\n/**\n * This makes sure the observable is being observed and keeps its cache alive.\n */\nexport function keepObserved(observable) {\n    const o = new KeepAliveObserver(false, undefined);\n    observable.addObserver(o);\n    return toDisposable(() => {\n        observable.removeObserver(o);\n    });\n}\n_setKeepObserved(keepObserved);\n/**\n * This converts the given observable into an autorun.\n */\nexport function recomputeInitiallyAndOnChange(observable, handleValue) {\n    const o = new KeepAliveObserver(true, handleValue);\n    observable.addObserver(o);\n    if (handleValue) {\n        handleValue(observable.get());\n    }\n    else {\n        observable.reportChanges();\n    }\n    return toDisposable(() => {\n        observable.removeObserver(o);\n    });\n}\n_setRecomputeInitiallyAndOnChange(recomputeInitiallyAndOnChange);\nexport class KeepAliveObserver {\n    constructor(_forceRecompute, _handleValue) {\n        this._forceRecompute = _forceRecompute;\n        this._handleValue = _handleValue;\n        this._counter = 0;\n    }\n    beginUpdate(observable) {\n        this._counter++;\n    }\n    endUpdate(observable) {\n        this._counter--;\n        if (this._counter === 0 && this._forceRecompute) {\n            if (this._handleValue) {\n                this._handleValue(observable.get());\n            }\n            else {\n                observable.reportChanges();\n            }\n        }\n    }\n    handlePossibleChange(observable) {\n        // NO OP\n    }\n    handleChange(observable, change) {\n        // NO OP\n    }\n}\nexport function derivedObservableWithCache(owner, computeFn) {\n    let lastValue = undefined;\n    const observable = derivedOpts({ owner, debugReferenceFn: computeFn }, reader => {\n        lastValue = computeFn(reader, lastValue);\n        return lastValue;\n    });\n    return observable;\n}\nexport function derivedObservableWithWritableCache(owner, computeFn) {\n    let lastValue = undefined;\n    const onChange = observableSignal('derivedObservableWithWritableCache');\n    const observable = derived(owner, reader => {\n        onChange.read(reader);\n        lastValue = computeFn(reader, lastValue);\n        return lastValue;\n    });\n    return Object.assign(observable, {\n        clearCache: (tx) => {\n            lastValue = undefined;\n            onChange.trigger(tx);\n        },\n        setCache: (newValue, tx) => {\n            lastValue = newValue;\n            onChange.trigger(tx);\n        }\n    });\n}\n/**\n * When the items array changes, referential equal items are not mapped again.\n */\nexport function mapObservableArrayCached(owner, items, map, keySelector) {\n    let m = new ArrayMap(map, keySelector);\n    const self = derivedOpts({\n        debugReferenceFn: map,\n        owner,\n        onLastObserverRemoved: () => {\n            m.dispose();\n            m = new ArrayMap(map);\n        }\n    }, (reader) => {\n        m.setItems(items.read(reader));\n        return m.getItems();\n    });\n    return self;\n}\nclass ArrayMap {\n    constructor(_map, _keySelector) {\n        this._map = _map;\n        this._keySelector = _keySelector;\n        this._cache = new Map();\n        this._items = [];\n    }\n    dispose() {\n        this._cache.forEach(entry => entry.store.dispose());\n        this._cache.clear();\n    }\n    setItems(items) {\n        const newItems = [];\n        const itemsToRemove = new Set(this._cache.keys());\n        for (const item of items) {\n            const key = this._keySelector ? this._keySelector(item) : item;\n            let entry = this._cache.get(key);\n            if (!entry) {\n                const store = new DisposableStore();\n                const out = this._map(item, store);\n                entry = { out, store };\n                this._cache.set(key, entry);\n            }\n            else {\n                itemsToRemove.delete(key);\n            }\n            newItems.push(entry.out);\n        }\n        for (const item of itemsToRemove) {\n            const entry = this._cache.get(item);\n            entry.store.dispose();\n            this._cache.delete(item);\n        }\n        this._items = newItems;\n    }\n    getItems() {\n        return this._items;\n    }\n}\nexport class ValueWithChangeEventFromObservable {\n    constructor(observable) {\n        this.observable = observable;\n    }\n    get onDidChange() {\n        return Event.fromObservableLight(this.observable);\n    }\n    get value() {\n        return this.observable.get();\n    }\n}\nexport function observableFromValueWithChangeEvent(owner, value) {\n    if (value instanceof ValueWithChangeEventFromObservable) {\n        return value.observable;\n    }\n    return observableFromEvent(owner, value.onDidChange, () => value.value);\n}\n/**\n * Works like a derived.\n * However, if the value is not undefined, it is cached and will not be recomputed anymore.\n * In that case, the derived will unsubscribe from its dependencies.\n*/\nexport function derivedConstOnceDefined(owner, fn) {\n    return derivedObservableWithCache(owner, (reader, lastValue) => lastValue ?? fn(reader));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LanguagesRegistry } from './languagesRegistry.js';\nimport { firstOrDefault } from '../../../base/common/arrays.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { observableFromEvent } from '../../../base/common/observable.js';\nexport class LanguageService extends Disposable {\n    static { this.instanceCount = 0; }\n    constructor(warnOnOverwrite = false) {\n        super();\n        this._onDidRequestBasicLanguageFeatures = this._register(new Emitter());\n        this.onDidRequestBasicLanguageFeatures = this._onDidRequestBasicLanguageFeatures.event;\n        this._onDidRequestRichLanguageFeatures = this._register(new Emitter());\n        this.onDidRequestRichLanguageFeatures = this._onDidRequestRichLanguageFeatures.event;\n        this._onDidChange = this._register(new Emitter({ leakWarningThreshold: 200 /* https://github.com/microsoft/vscode/issues/119968 */ }));\n        this.onDidChange = this._onDidChange.event;\n        this._requestedBasicLanguages = new Set();\n        this._requestedRichLanguages = new Set();\n        LanguageService.instanceCount++;\n        this._registry = this._register(new LanguagesRegistry(true, warnOnOverwrite));\n        this.languageIdCodec = this._registry.languageIdCodec;\n        this._register(this._registry.onDidChange(() => this._onDidChange.fire()));\n    }\n    dispose() {\n        LanguageService.instanceCount--;\n        super.dispose();\n    }\n    isRegisteredLanguageId(languageId) {\n        return this._registry.isRegisteredLanguageId(languageId);\n    }\n    getLanguageIdByLanguageName(languageName) {\n        return this._registry.getLanguageIdByLanguageName(languageName);\n    }\n    getLanguageIdByMimeType(mimeType) {\n        return this._registry.getLanguageIdByMimeType(mimeType);\n    }\n    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n        const languageIds = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n        return firstOrDefault(languageIds, null);\n    }\n    createById(languageId) {\n        return new LanguageSelection(this.onDidChange, () => {\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    createByFilepathOrFirstLine(resource, firstLine) {\n        return new LanguageSelection(this.onDidChange, () => {\n            const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);\n            return this._createAndGetLanguageIdentifier(languageId);\n        });\n    }\n    _createAndGetLanguageIdentifier(languageId) {\n        if (!languageId || !this.isRegisteredLanguageId(languageId)) {\n            // Fall back to plain text if language is unknown\n            languageId = PLAINTEXT_LANGUAGE_ID;\n        }\n        return languageId;\n    }\n    requestBasicLanguageFeatures(languageId) {\n        if (!this._requestedBasicLanguages.has(languageId)) {\n            this._requestedBasicLanguages.add(languageId);\n            this._onDidRequestBasicLanguageFeatures.fire(languageId);\n        }\n    }\n    requestRichLanguageFeatures(languageId) {\n        if (!this._requestedRichLanguages.has(languageId)) {\n            this._requestedRichLanguages.add(languageId);\n            // Ensure basic features are requested\n            this.requestBasicLanguageFeatures(languageId);\n            // Ensure tokenizers are created\n            TokenizationRegistry.getOrCreate(languageId);\n            this._onDidRequestRichLanguageFeatures.fire(languageId);\n        }\n    }\n}\nclass LanguageSelection {\n    constructor(onDidChangeLanguages, selector) {\n        this._value = observableFromEvent(this, onDidChangeLanguages, () => selector());\n        this.onDidChange = Event.fromObservable(this._value);\n    }\n    get languageId() {\n        return this._value.get();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { parse } from '../../../base/common/glob.js';\nimport { Mimes } from '../../../base/common/mime.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { basename, posix } from '../../../base/common/path.js';\nimport { DataUri } from '../../../base/common/resources.js';\nimport { startsWithUTF8BOM } from '../../../base/common/strings.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nlet registeredAssociations = [];\nlet nonUserRegisteredAssociations = [];\nlet userRegisteredAssociations = [];\n/**\n * Associate a language to the registry (platform).\n * * **NOTE**: This association will lose over associations registered using `registerConfiguredLanguageAssociation`.\n * * **NOTE**: Use `clearPlatformLanguageAssociations` to remove all associations registered using this function.\n */\nexport function registerPlatformLanguageAssociation(association, warnOnOverwrite = false) {\n    _registerLanguageAssociation(association, false, warnOnOverwrite);\n}\nfunction _registerLanguageAssociation(association, userConfigured, warnOnOverwrite) {\n    // Register\n    const associationItem = toLanguageAssociationItem(association, userConfigured);\n    registeredAssociations.push(associationItem);\n    if (!associationItem.userConfigured) {\n        nonUserRegisteredAssociations.push(associationItem);\n    }\n    else {\n        userRegisteredAssociations.push(associationItem);\n    }\n    // Check for conflicts unless this is a user configured association\n    if (warnOnOverwrite && !associationItem.userConfigured) {\n        registeredAssociations.forEach(a => {\n            if (a.mime === associationItem.mime || a.userConfigured) {\n                return; // same mime or userConfigured is ok\n            }\n            if (associationItem.extension && a.extension === associationItem.extension) {\n                console.warn(`Overwriting extension <<${associationItem.extension}>> to now point to mime <<${associationItem.mime}>>`);\n            }\n            if (associationItem.filename && a.filename === associationItem.filename) {\n                console.warn(`Overwriting filename <<${associationItem.filename}>> to now point to mime <<${associationItem.mime}>>`);\n            }\n            if (associationItem.filepattern && a.filepattern === associationItem.filepattern) {\n                console.warn(`Overwriting filepattern <<${associationItem.filepattern}>> to now point to mime <<${associationItem.mime}>>`);\n            }\n            if (associationItem.firstline && a.firstline === associationItem.firstline) {\n                console.warn(`Overwriting firstline <<${associationItem.firstline}>> to now point to mime <<${associationItem.mime}>>`);\n            }\n        });\n    }\n}\nfunction toLanguageAssociationItem(association, userConfigured) {\n    return {\n        id: association.id,\n        mime: association.mime,\n        filename: association.filename,\n        extension: association.extension,\n        filepattern: association.filepattern,\n        firstline: association.firstline,\n        userConfigured: userConfigured,\n        filenameLowercase: association.filename ? association.filename.toLowerCase() : undefined,\n        extensionLowercase: association.extension ? association.extension.toLowerCase() : undefined,\n        filepatternLowercase: association.filepattern ? parse(association.filepattern.toLowerCase()) : undefined,\n        filepatternOnPath: association.filepattern ? association.filepattern.indexOf(posix.sep) >= 0 : false\n    };\n}\n/**\n * Clear language associations from the registry (platform).\n */\nexport function clearPlatformLanguageAssociations() {\n    registeredAssociations = registeredAssociations.filter(a => a.userConfigured);\n    nonUserRegisteredAssociations = [];\n}\n/**\n * @see `getMimeTypes`\n */\nexport function getLanguageIds(resource, firstLine) {\n    return getAssociations(resource, firstLine).map(item => item.id);\n}\nfunction getAssociations(resource, firstLine) {\n    let path;\n    if (resource) {\n        switch (resource.scheme) {\n            case Schemas.file:\n                path = resource.fsPath;\n                break;\n            case Schemas.data: {\n                const metadata = DataUri.parseMetaData(resource);\n                path = metadata.get(DataUri.META_DATA_LABEL);\n                break;\n            }\n            case Schemas.vscodeNotebookCell:\n                // File path not relevant for language detection of cell\n                path = undefined;\n                break;\n            default:\n                path = resource.path;\n        }\n    }\n    if (!path) {\n        return [{ id: 'unknown', mime: Mimes.unknown }];\n    }\n    path = path.toLowerCase();\n    const filename = basename(path);\n    // 1.) User configured mappings have highest priority\n    const configuredLanguage = getAssociationByPath(path, filename, userRegisteredAssociations);\n    if (configuredLanguage) {\n        return [configuredLanguage, { id: PLAINTEXT_LANGUAGE_ID, mime: Mimes.text }];\n    }\n    // 2.) Registered mappings have middle priority\n    const registeredLanguage = getAssociationByPath(path, filename, nonUserRegisteredAssociations);\n    if (registeredLanguage) {\n        return [registeredLanguage, { id: PLAINTEXT_LANGUAGE_ID, mime: Mimes.text }];\n    }\n    // 3.) Firstline has lowest priority\n    if (firstLine) {\n        const firstlineLanguage = getAssociationByFirstline(firstLine);\n        if (firstlineLanguage) {\n            return [firstlineLanguage, { id: PLAINTEXT_LANGUAGE_ID, mime: Mimes.text }];\n        }\n    }\n    return [{ id: 'unknown', mime: Mimes.unknown }];\n}\nfunction getAssociationByPath(path, filename, associations) {\n    let filenameMatch = undefined;\n    let patternMatch = undefined;\n    let extensionMatch = undefined;\n    // We want to prioritize associations based on the order they are registered so that the last registered\n    // association wins over all other. This is for https://github.com/microsoft/vscode/issues/20074\n    for (let i = associations.length - 1; i >= 0; i--) {\n        const association = associations[i];\n        // First exact name match\n        if (filename === association.filenameLowercase) {\n            filenameMatch = association;\n            break; // take it!\n        }\n        // Longest pattern match\n        if (association.filepattern) {\n            if (!patternMatch || association.filepattern.length > patternMatch.filepattern.length) {\n                const target = association.filepatternOnPath ? path : filename; // match on full path if pattern contains path separator\n                if (association.filepatternLowercase?.(target)) {\n                    patternMatch = association;\n                }\n            }\n        }\n        // Longest extension match\n        if (association.extension) {\n            if (!extensionMatch || association.extension.length > extensionMatch.extension.length) {\n                if (filename.endsWith(association.extensionLowercase)) {\n                    extensionMatch = association;\n                }\n            }\n        }\n    }\n    // 1.) Exact name match has second highest priority\n    if (filenameMatch) {\n        return filenameMatch;\n    }\n    // 2.) Match on pattern\n    if (patternMatch) {\n        return patternMatch;\n    }\n    // 3.) Match on extension comes next\n    if (extensionMatch) {\n        return extensionMatch;\n    }\n    return undefined;\n}\nfunction getAssociationByFirstline(firstLine) {\n    if (startsWithUTF8BOM(firstLine)) {\n        firstLine = firstLine.substr(1);\n    }\n    if (firstLine.length > 0) {\n        // We want to prioritize associations based on the order they are registered so that the last registered\n        // association wins over all other. This is for https://github.com/microsoft/vscode/issues/20074\n        for (let i = registeredAssociations.length - 1; i >= 0; i--) {\n            const association = registeredAssociations[i];\n            if (!association.firstline) {\n                continue;\n            }\n            const matches = firstLine.match(association.firstline);\n            if (matches && matches.length > 0) {\n                return association;\n            }\n        }\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { regExpLeadsToEndlessLoop } from '../../../base/common/strings.js';\nimport { clearPlatformLanguageAssociations, getLanguageIds, registerPlatformLanguageAssociation } from './languagesAssociations.js';\nimport { ModesRegistry, PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { Extensions } from '../../../platform/configuration/common/configurationRegistry.js';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst NULL_LANGUAGE_ID = 'vs.editor.nullLanguage';\nexport class LanguageIdCodec {\n    constructor() {\n        this._languageIdToLanguage = [];\n        this._languageToLanguageId = new Map();\n        this._register(NULL_LANGUAGE_ID, 0 /* LanguageId.Null */);\n        this._register(PLAINTEXT_LANGUAGE_ID, 1 /* LanguageId.PlainText */);\n        this._nextLanguageId = 2;\n    }\n    _register(language, languageId) {\n        this._languageIdToLanguage[languageId] = language;\n        this._languageToLanguageId.set(language, languageId);\n    }\n    register(language) {\n        if (this._languageToLanguageId.has(language)) {\n            return;\n        }\n        const languageId = this._nextLanguageId++;\n        this._register(language, languageId);\n    }\n    encodeLanguageId(languageId) {\n        return this._languageToLanguageId.get(languageId) || 0 /* LanguageId.Null */;\n    }\n    decodeLanguageId(languageId) {\n        return this._languageIdToLanguage[languageId] || NULL_LANGUAGE_ID;\n    }\n}\nexport class LanguagesRegistry extends Disposable {\n    static { this.instanceCount = 0; }\n    constructor(useModesRegistry = true, warnOnOverwrite = false) {\n        super();\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        LanguagesRegistry.instanceCount++;\n        this._warnOnOverwrite = warnOnOverwrite;\n        this.languageIdCodec = new LanguageIdCodec();\n        this._dynamicLanguages = [];\n        this._languages = {};\n        this._mimeTypesMap = {};\n        this._nameMap = {};\n        this._lowercaseNameMap = {};\n        if (useModesRegistry) {\n            this._initializeFromRegistry();\n            this._register(ModesRegistry.onDidChangeLanguages((m) => {\n                this._initializeFromRegistry();\n            }));\n        }\n    }\n    dispose() {\n        LanguagesRegistry.instanceCount--;\n        super.dispose();\n    }\n    _initializeFromRegistry() {\n        this._languages = {};\n        this._mimeTypesMap = {};\n        this._nameMap = {};\n        this._lowercaseNameMap = {};\n        clearPlatformLanguageAssociations();\n        const desc = [].concat(ModesRegistry.getLanguages()).concat(this._dynamicLanguages);\n        this._registerLanguages(desc);\n    }\n    _registerLanguages(desc) {\n        for (const d of desc) {\n            this._registerLanguage(d);\n        }\n        // Rebuild fast path maps\n        this._mimeTypesMap = {};\n        this._nameMap = {};\n        this._lowercaseNameMap = {};\n        Object.keys(this._languages).forEach((langId) => {\n            const language = this._languages[langId];\n            if (language.name) {\n                this._nameMap[language.name] = language.identifier;\n            }\n            language.aliases.forEach((alias) => {\n                this._lowercaseNameMap[alias.toLowerCase()] = language.identifier;\n            });\n            language.mimetypes.forEach((mimetype) => {\n                this._mimeTypesMap[mimetype] = language.identifier;\n            });\n        });\n        Registry.as(Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds());\n        this._onDidChange.fire();\n    }\n    _registerLanguage(lang) {\n        const langId = lang.id;\n        let resolvedLanguage;\n        if (hasOwnProperty.call(this._languages, langId)) {\n            resolvedLanguage = this._languages[langId];\n        }\n        else {\n            this.languageIdCodec.register(langId);\n            resolvedLanguage = {\n                identifier: langId,\n                name: null,\n                mimetypes: [],\n                aliases: [],\n                extensions: [],\n                filenames: [],\n                configurationFiles: [],\n                icons: []\n            };\n            this._languages[langId] = resolvedLanguage;\n        }\n        this._mergeLanguage(resolvedLanguage, lang);\n    }\n    _mergeLanguage(resolvedLanguage, lang) {\n        const langId = lang.id;\n        let primaryMime = null;\n        if (Array.isArray(lang.mimetypes) && lang.mimetypes.length > 0) {\n            resolvedLanguage.mimetypes.push(...lang.mimetypes);\n            primaryMime = lang.mimetypes[0];\n        }\n        if (!primaryMime) {\n            primaryMime = `text/x-${langId}`;\n            resolvedLanguage.mimetypes.push(primaryMime);\n        }\n        if (Array.isArray(lang.extensions)) {\n            if (lang.configuration) {\n                // insert first as this appears to be the 'primary' language definition\n                resolvedLanguage.extensions = lang.extensions.concat(resolvedLanguage.extensions);\n            }\n            else {\n                resolvedLanguage.extensions = resolvedLanguage.extensions.concat(lang.extensions);\n            }\n            for (const extension of lang.extensions) {\n                registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, extension: extension }, this._warnOnOverwrite);\n            }\n        }\n        if (Array.isArray(lang.filenames)) {\n            for (const filename of lang.filenames) {\n                registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, filename: filename }, this._warnOnOverwrite);\n                resolvedLanguage.filenames.push(filename);\n            }\n        }\n        if (Array.isArray(lang.filenamePatterns)) {\n            for (const filenamePattern of lang.filenamePatterns) {\n                registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, filepattern: filenamePattern }, this._warnOnOverwrite);\n            }\n        }\n        if (typeof lang.firstLine === 'string' && lang.firstLine.length > 0) {\n            let firstLineRegexStr = lang.firstLine;\n            if (firstLineRegexStr.charAt(0) !== '^') {\n                firstLineRegexStr = '^' + firstLineRegexStr;\n            }\n            try {\n                const firstLineRegex = new RegExp(firstLineRegexStr);\n                if (!regExpLeadsToEndlessLoop(firstLineRegex)) {\n                    registerPlatformLanguageAssociation({ id: langId, mime: primaryMime, firstline: firstLineRegex }, this._warnOnOverwrite);\n                }\n            }\n            catch (err) {\n                // Most likely, the regex was bad\n                console.warn(`[${lang.id}]: Invalid regular expression \\`${firstLineRegexStr}\\`: `, err);\n            }\n        }\n        resolvedLanguage.aliases.push(langId);\n        let langAliases = null;\n        if (typeof lang.aliases !== 'undefined' && Array.isArray(lang.aliases)) {\n            if (lang.aliases.length === 0) {\n                // signal that this language should not get a name\n                langAliases = [null];\n            }\n            else {\n                langAliases = lang.aliases;\n            }\n        }\n        if (langAliases !== null) {\n            for (const langAlias of langAliases) {\n                if (!langAlias || langAlias.length === 0) {\n                    continue;\n                }\n                resolvedLanguage.aliases.push(langAlias);\n            }\n        }\n        const containsAliases = (langAliases !== null && langAliases.length > 0);\n        if (containsAliases && langAliases[0] === null) {\n            // signal that this language should not get a name\n        }\n        else {\n            const bestName = (containsAliases ? langAliases[0] : null) || langId;\n            if (containsAliases || !resolvedLanguage.name) {\n                resolvedLanguage.name = bestName;\n            }\n        }\n        if (lang.configuration) {\n            resolvedLanguage.configurationFiles.push(lang.configuration);\n        }\n        if (lang.icon) {\n            resolvedLanguage.icons.push(lang.icon);\n        }\n    }\n    isRegisteredLanguageId(languageId) {\n        if (!languageId) {\n            return false;\n        }\n        return hasOwnProperty.call(this._languages, languageId);\n    }\n    getRegisteredLanguageIds() {\n        return Object.keys(this._languages);\n    }\n    getLanguageIdByLanguageName(languageName) {\n        const languageNameLower = languageName.toLowerCase();\n        if (!hasOwnProperty.call(this._lowercaseNameMap, languageNameLower)) {\n            return null;\n        }\n        return this._lowercaseNameMap[languageNameLower];\n    }\n    getLanguageIdByMimeType(mimeType) {\n        if (!mimeType) {\n            return null;\n        }\n        if (hasOwnProperty.call(this._mimeTypesMap, mimeType)) {\n            return this._mimeTypesMap[mimeType];\n        }\n        return null;\n    }\n    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {\n        if (!resource && !firstLine) {\n            return [];\n        }\n        return getLanguageIds(resource, firstLine);\n    }\n}\n"],"names":["globalObservableLogger","setLogger","logger","getLogger","ConsoleObservableLogger","constructor","this","indentation","changedObservablesSets","WeakMap","textToConsoleArgs","text","styles","Array","data","firstArg","process","t","item","concat","push","style","result","consoleTextToArgs","normalText","repeat","formatInfo","info","hadValue","didChange","styled","formatValue","oldValue","color","strikeThrough","newValue","handleObservableChanged","observable","console","log","formatKind","debugName","formatChanges","changes","size","map","o","join","handleDerivedCreated","derived","existingHandleChange","handleChange","set","Set","change","get","add","apply","handleDerivedRecomputed","_derived$_debugNameDa","changedObservables","fn","_debugNameData","referenceFn","_computeFn","clear","handleFromEventObservableTriggered","_getValue","handleAutorunCreated","autorun","handleAutorunTriggered","_autorun$_debugNameDa","_runFn","handleAutorunFinished","handleBeginTransaction","transaction","transactionName","getDebugName","undefined","_fn","handleEndTransaction","kind","str","length","padStr","bold","options","arguments","styleObj","Object","entries","reduce","styleString","_ref","propName","propValue","value","availableLen","substr","isArray","first","val","formatArray","key","formatObject","toString","name","count","i","constObservable","ConstObservable","ConvenientObservable","super","addObserver","observer","removeObserver","observableFromEvent","owner","event","getValue","_len","args","_key","FromEventObservable","DebugNameData","globalTransaction","strictEquals","observableFromEventOpts","_options$debugReferen","_options$equalsFn","debugReferenceFn","equalsFn","BaseObservable","_getTransaction","_equalityComparator","hasValue","handleEvent","didRunTransaction","_getLogger2","subtransaction","tx","_getLogger","observers","updateObserver","onFirstObserverAdded","subscription","onLastObserverRemoved","dispose","observableSignalFromEvent","FromEventObservableSignal","Observer","batchEventsGlobally","didSet","observableSignal","debugNameOrOwner","ObservableSignal","_DebugNameData$getDeb","_owner","_debugName","trigger","recomputeInitiallyAndOnChange","handleValue","KeepAliveObserver","reportChanges","toDisposable","_setKeepObserved","_setRecomputeInitiallyAndOnChange","_forceRecompute","_handleValue","_counter","beginUpdate","endUpdate","handlePossibleChange","derivedObservableWithCache","computeFn","lastValue","derivedOpts","reader","mapObservableArrayCached","items","keySelector","m","ArrayMap","setItems","read","getItems","_map","_keySelector","_cache","Map","_items","forEach","entry","store","newItems","itemsToRemove","keys","delete","DisposableStore","out","derivedConstOnceDefined","LanguageService","Disposable","warnOnOverwrite","_onDidRequestBasicLanguageFeatures","_register","Emitter","onDidRequestBasicLanguageFeatures","_onDidRequestRichLanguageFeatures","onDidRequestRichLanguageFeatures","_onDidChange","leakWarningThreshold","onDidChange","_requestedBasicLanguages","_requestedRichLanguages","instanceCount","_registry","LanguagesRegistry","languageIdCodec","fire","isRegisteredLanguageId","languageId","getLanguageIdByLanguageName","languageName","getLanguageIdByMimeType","mimeType","guessLanguageIdByFilepathOrFirstLine","resource","firstLine","languageIds","firstOrDefault","createById","LanguageSelection","_createAndGetLanguageIdentifier","createByFilepathOrFirstLine","PLAINTEXT_LANGUAGE_ID","requestBasicLanguageFeatures","has","requestRichLanguageFeatures","TokenizationRegistry","getOrCreate","onDidChangeLanguages","selector","_value","Event","fromObservable","registeredAssociations","nonUserRegisteredAssociations","userRegisteredAssociations","registerPlatformLanguageAssociation","association","userConfigured","associationItem","id","mime","filename","extension","filepattern","firstline","filenameLowercase","toLowerCase","extensionLowercase","filepatternLowercase","parse","filepatternOnPath","indexOf","posix","sep","toLanguageAssociationItem","a","warn","_registerLanguageAssociation","clearPlatformLanguageAssociations","filter","getLanguageIds","path","scheme","Schemas","file","fsPath","DataUri","parseMetaData","META_DATA_LABEL","vscodeNotebookCell","Mimes","unknown","basename","configuredLanguage","getAssociationByPath","registeredLanguage","firstlineLanguage","startsWithUTF8BOM","matches","match","getAssociationByFirstline","getAssociations","associations","filenameMatch","patternMatch","extensionMatch","_association$filepatt","target","call","endsWith","hasOwnProperty","prototype","NULL_LANGUAGE_ID","LanguageIdCodec","_languageIdToLanguage","_languageToLanguageId","_nextLanguageId","language","register","encodeLanguageId","decodeLanguageId","useModesRegistry","_warnOnOverwrite","_dynamicLanguages","_languages","_mimeTypesMap","_nameMap","_lowercaseNameMap","_initializeFromRegistry","ModesRegistry","desc","getLanguages","_registerLanguages","d","_registerLanguage","langId","identifier","aliases","alias","mimetypes","mimetype","Registry","as","Extensions","Configuration","registerOverrideIdentifiers","getRegisteredLanguageIds","lang","resolvedLanguage","extensions","filenames","configurationFiles","icons","_mergeLanguage","primaryMime","configuration","filenamePatterns","filenamePattern","firstLineRegexStr","charAt","firstLineRegex","RegExp","regExpLeadsToEndlessLoop","err","langAliases","langAlias","containsAliases","bestName","icon","languageNameLower"],"sourceRoot":""}