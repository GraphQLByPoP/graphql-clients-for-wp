{"version":3,"file":"static/js/8843.a459dbf9.chunk.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/editor/common/core/eolCounter.js","../node_modules/monaco-editor/esm/vs/editor/common/encodedTokenAttributes.js","../node_modules/monaco-editor/esm/vs/editor/common/languages/language.js","../node_modules/monaco-editor/esm/vs/platform/theme/common/colorUtils.js","../node_modules/monaco-editor/esm/vs/platform/theme/common/theme.js","../node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function countEOL(text) {\n    let eolCount = 0;\n    let firstLineLength = 0;\n    let lastLineStart = 0;\n    let eol = 0 /* StringEOL.Unknown */;\n    for (let i = 0, len = text.length; i < len; i++) {\n        const chr = text.charCodeAt(i);\n        if (chr === 13 /* CharCode.CarriageReturn */) {\n            if (eolCount === 0) {\n                firstLineLength = i;\n            }\n            eolCount++;\n            if (i + 1 < len && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                // \\r\\n... case\n                eol |= 2 /* StringEOL.CRLF */;\n                i++; // skip \\n\n            }\n            else {\n                // \\r... case\n                eol |= 3 /* StringEOL.Invalid */;\n            }\n            lastLineStart = i + 1;\n        }\n        else if (chr === 10 /* CharCode.LineFeed */) {\n            // \\n... case\n            eol |= 1 /* StringEOL.LF */;\n            if (eolCount === 0) {\n                firstLineLength = i;\n            }\n            eolCount++;\n            lastLineStart = i + 1;\n        }\n    }\n    if (eolCount === 0) {\n        firstLineLength = text.length;\n    }\n    return [eolCount, firstLineLength, text.length - lastLineStart, eol];\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n */\nexport class TokenMetadata {\n    static getLanguageId(metadata) {\n        return (metadata & 255 /* MetadataConsts.LANGUAGEID_MASK */) >>> 0 /* MetadataConsts.LANGUAGEID_OFFSET */;\n    }\n    static getTokenType(metadata) {\n        return (metadata & 768 /* MetadataConsts.TOKEN_TYPE_MASK */) >>> 8 /* MetadataConsts.TOKEN_TYPE_OFFSET */;\n    }\n    static containsBalancedBrackets(metadata) {\n        return (metadata & 1024 /* MetadataConsts.BALANCED_BRACKETS_MASK */) !== 0;\n    }\n    static getFontStyle(metadata) {\n        return (metadata & 30720 /* MetadataConsts.FONT_STYLE_MASK */) >>> 11 /* MetadataConsts.FONT_STYLE_OFFSET */;\n    }\n    static getForeground(metadata) {\n        return (metadata & 16744448 /* MetadataConsts.FOREGROUND_MASK */) >>> 15 /* MetadataConsts.FOREGROUND_OFFSET */;\n    }\n    static getBackground(metadata) {\n        return (metadata & 4278190080 /* MetadataConsts.BACKGROUND_MASK */) >>> 24 /* MetadataConsts.BACKGROUND_OFFSET */;\n    }\n    static getClassNameFromMetadata(metadata) {\n        const foreground = this.getForeground(metadata);\n        let className = 'mtk' + foreground;\n        const fontStyle = this.getFontStyle(metadata);\n        if (fontStyle & 1 /* FontStyle.Italic */) {\n            className += ' mtki';\n        }\n        if (fontStyle & 2 /* FontStyle.Bold */) {\n            className += ' mtkb';\n        }\n        if (fontStyle & 4 /* FontStyle.Underline */) {\n            className += ' mtku';\n        }\n        if (fontStyle & 8 /* FontStyle.Strikethrough */) {\n            className += ' mtks';\n        }\n        return className;\n    }\n    static getInlineStyleFromMetadata(metadata, colorMap) {\n        const foreground = this.getForeground(metadata);\n        const fontStyle = this.getFontStyle(metadata);\n        let result = `color: ${colorMap[foreground]};`;\n        if (fontStyle & 1 /* FontStyle.Italic */) {\n            result += 'font-style: italic;';\n        }\n        if (fontStyle & 2 /* FontStyle.Bold */) {\n            result += 'font-weight: bold;';\n        }\n        let textDecoration = '';\n        if (fontStyle & 4 /* FontStyle.Underline */) {\n            textDecoration += ' underline';\n        }\n        if (fontStyle & 8 /* FontStyle.Strikethrough */) {\n            textDecoration += ' line-through';\n        }\n        if (textDecoration) {\n            result += `text-decoration:${textDecoration};`;\n        }\n        return result;\n    }\n    static getPresentationFromMetadata(metadata) {\n        const foreground = this.getForeground(metadata);\n        const fontStyle = this.getFontStyle(metadata);\n        return {\n            foreground: foreground,\n            italic: Boolean(fontStyle & 1 /* FontStyle.Italic */),\n            bold: Boolean(fontStyle & 2 /* FontStyle.Bold */),\n            underline: Boolean(fontStyle & 4 /* FontStyle.Underline */),\n            strikethrough: Boolean(fontStyle & 8 /* FontStyle.Strikethrough */),\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ILanguageService = createDecorator('languageService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { assertNever } from '../../../base/common/assert.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Color } from '../../../base/common/color.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\nimport * as platform from '../../registry/common/platform.js';\nimport * as nls from '../../../nls.js';\n/**\n * Returns the css variable name for the given color identifier. Dots (`.`) are replaced with hyphens (`-`) and\n * everything is prefixed with `--vscode-`.\n *\n * @sample `editorSuggestWidget.background` is `--vscode-editorSuggestWidget-background`.\n */\nexport function asCssVariableName(colorIdent) {\n    return `--vscode-${colorIdent.replace(/\\./g, '-')}`;\n}\nexport function asCssVariable(color) {\n    return `var(${asCssVariableName(color)})`;\n}\nexport function asCssVariableWithDefault(color, defaultCssValue) {\n    return `var(${asCssVariableName(color)}, ${defaultCssValue})`;\n}\nexport function isColorDefaults(value) {\n    return value !== null && typeof value === 'object' && 'light' in value && 'dark' in value;\n}\n// color registry\nexport const Extensions = {\n    ColorContribution: 'base.contributions.colors'\n};\nexport const DEFAULT_COLOR_CONFIG_VALUE = 'default';\nclass ColorRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.onDidChangeSchema = this._onDidChangeSchema.event;\n        this.colorSchema = { type: 'object', properties: {} };\n        this.colorReferenceSchema = { type: 'string', enum: [], enumDescriptions: [] };\n        this.colorsById = {};\n    }\n    registerColor(id, defaults, description, needsTransparency = false, deprecationMessage) {\n        const colorContribution = { id, description, defaults, needsTransparency, deprecationMessage };\n        this.colorsById[id] = colorContribution;\n        const propertySchema = { type: 'string', format: 'color-hex', defaultSnippets: [{ body: '${1:#ff0000}' }] };\n        if (deprecationMessage) {\n            propertySchema.deprecationMessage = deprecationMessage;\n        }\n        if (needsTransparency) {\n            propertySchema.pattern = '^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$';\n            propertySchema.patternErrorMessage = nls.localize('transparecyRequired', 'This color must be transparent or it will obscure content');\n        }\n        this.colorSchema.properties[id] = {\n            description,\n            oneOf: [\n                propertySchema,\n                { type: 'string', const: DEFAULT_COLOR_CONFIG_VALUE, description: nls.localize('useDefault', 'Use the default color.') }\n            ]\n        };\n        this.colorReferenceSchema.enum.push(id);\n        this.colorReferenceSchema.enumDescriptions.push(description);\n        this._onDidChangeSchema.fire();\n        return id;\n    }\n    getColors() {\n        return Object.keys(this.colorsById).map(id => this.colorsById[id]);\n    }\n    resolveDefaultColor(id, theme) {\n        const colorDesc = this.colorsById[id];\n        if (colorDesc?.defaults) {\n            const colorValue = isColorDefaults(colorDesc.defaults) ? colorDesc.defaults[theme.type] : colorDesc.defaults;\n            return resolveColorValue(colorValue, theme);\n        }\n        return undefined;\n    }\n    getColorSchema() {\n        return this.colorSchema;\n    }\n    toString() {\n        const sorter = (a, b) => {\n            const cat1 = a.indexOf('.') === -1 ? 0 : 1;\n            const cat2 = b.indexOf('.') === -1 ? 0 : 1;\n            if (cat1 !== cat2) {\n                return cat1 - cat2;\n            }\n            return a.localeCompare(b);\n        };\n        return Object.keys(this.colorsById).sort(sorter).map(k => `- \\`${k}\\`: ${this.colorsById[k].description}`).join('\\n');\n    }\n}\nconst colorRegistry = new ColorRegistry();\nplatform.Registry.add(Extensions.ColorContribution, colorRegistry);\nexport function registerColor(id, defaults, description, needsTransparency, deprecationMessage) {\n    return colorRegistry.registerColor(id, defaults, description, needsTransparency, deprecationMessage);\n}\n// ----- color functions\nexport function executeTransform(transform, theme) {\n    switch (transform.op) {\n        case 0 /* ColorTransformType.Darken */:\n            return resolveColorValue(transform.value, theme)?.darken(transform.factor);\n        case 1 /* ColorTransformType.Lighten */:\n            return resolveColorValue(transform.value, theme)?.lighten(transform.factor);\n        case 2 /* ColorTransformType.Transparent */:\n            return resolveColorValue(transform.value, theme)?.transparent(transform.factor);\n        case 3 /* ColorTransformType.Opaque */: {\n            const backgroundColor = resolveColorValue(transform.background, theme);\n            if (!backgroundColor) {\n                return resolveColorValue(transform.value, theme);\n            }\n            return resolveColorValue(transform.value, theme)?.makeOpaque(backgroundColor);\n        }\n        case 4 /* ColorTransformType.OneOf */:\n            for (const candidate of transform.values) {\n                const color = resolveColorValue(candidate, theme);\n                if (color) {\n                    return color;\n                }\n            }\n            return undefined;\n        case 6 /* ColorTransformType.IfDefinedThenElse */:\n            return resolveColorValue(theme.defines(transform.if) ? transform.then : transform.else, theme);\n        case 5 /* ColorTransformType.LessProminent */: {\n            const from = resolveColorValue(transform.value, theme);\n            if (!from) {\n                return undefined;\n            }\n            const backgroundColor = resolveColorValue(transform.background, theme);\n            if (!backgroundColor) {\n                return from.transparent(transform.factor * transform.transparency);\n            }\n            return from.isDarkerThan(backgroundColor)\n                ? Color.getLighterColor(from, backgroundColor, transform.factor).transparent(transform.transparency)\n                : Color.getDarkerColor(from, backgroundColor, transform.factor).transparent(transform.transparency);\n        }\n        default:\n            throw assertNever(transform);\n    }\n}\nexport function darken(colorValue, factor) {\n    return { op: 0 /* ColorTransformType.Darken */, value: colorValue, factor };\n}\nexport function lighten(colorValue, factor) {\n    return { op: 1 /* ColorTransformType.Lighten */, value: colorValue, factor };\n}\nexport function transparent(colorValue, factor) {\n    return { op: 2 /* ColorTransformType.Transparent */, value: colorValue, factor };\n}\nexport function oneOf(...colorValues) {\n    return { op: 4 /* ColorTransformType.OneOf */, values: colorValues };\n}\nexport function ifDefinedThenElse(ifArg, thenArg, elseArg) {\n    return { op: 6 /* ColorTransformType.IfDefinedThenElse */, if: ifArg, then: thenArg, else: elseArg };\n}\nexport function lessProminent(colorValue, backgroundColorValue, factor, transparency) {\n    return { op: 5 /* ColorTransformType.LessProminent */, value: colorValue, background: backgroundColorValue, factor, transparency };\n}\n// ----- implementation\n/**\n * @param colorValue Resolve a color value in the context of a theme\n */\nexport function resolveColorValue(colorValue, theme) {\n    if (colorValue === null) {\n        return undefined;\n    }\n    else if (typeof colorValue === 'string') {\n        if (colorValue[0] === '#') {\n            return Color.fromHex(colorValue);\n        }\n        return theme.getColor(colorValue);\n    }\n    else if (colorValue instanceof Color) {\n        return colorValue;\n    }\n    else if (typeof colorValue === 'object') {\n        return executeTransform(colorValue, theme);\n    }\n    return undefined;\n}\nexport const workbenchColorsSchemaId = 'vscode://schemas/workbench-colors';\nconst schemaRegistry = platform.Registry.as(JSONExtensions.JSONContribution);\nschemaRegistry.registerSchema(workbenchColorsSchemaId, colorRegistry.getColorSchema());\nconst delayer = new RunOnceScheduler(() => schemaRegistry.notifySchemaChanged(workbenchColorsSchemaId), 200);\ncolorRegistry.onDidChangeSchema(() => {\n    if (!delayer.isScheduled()) {\n        delayer.schedule();\n    }\n});\n// setTimeout(_ => console.log(colorRegistry.toString()), 5000);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Color scheme used by the OS and by color themes.\n */\nexport var ColorScheme;\n(function (ColorScheme) {\n    ColorScheme[\"DARK\"] = \"dark\";\n    ColorScheme[\"LIGHT\"] = \"light\";\n    ColorScheme[\"HIGH_CONTRAST_DARK\"] = \"hcDark\";\n    ColorScheme[\"HIGH_CONTRAST_LIGHT\"] = \"hcLight\";\n})(ColorScheme || (ColorScheme = {}));\nexport function isHighContrast(scheme) {\n    return scheme === ColorScheme.HIGH_CONTRAST_DARK || scheme === ColorScheme.HIGH_CONTRAST_LIGHT;\n}\nexport function isDark(scheme) {\n    return scheme === ColorScheme.DARK || scheme === ColorScheme.HIGH_CONTRAST_DARK;\n}\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport * as platform from '../../registry/common/platform.js';\nimport { ColorScheme } from './theme.js';\nexport const IThemeService = createDecorator('themeService');\nexport function themeColorFromId(id) {\n    return { id };\n}\nexport function getThemeTypeSelector(type) {\n    switch (type) {\n        case ColorScheme.DARK: return 'vs-dark';\n        case ColorScheme.HIGH_CONTRAST_DARK: return 'hc-black';\n        case ColorScheme.HIGH_CONTRAST_LIGHT: return 'hc-light';\n        default: return 'vs';\n    }\n}\n// static theming participant\nexport const Extensions = {\n    ThemingContribution: 'base.contributions.theming'\n};\nclass ThemingRegistry {\n    constructor() {\n        this.themingParticipants = [];\n        this.themingParticipants = [];\n        this.onThemingParticipantAddedEmitter = new Emitter();\n    }\n    onColorThemeChange(participant) {\n        this.themingParticipants.push(participant);\n        this.onThemingParticipantAddedEmitter.fire(participant);\n        return toDisposable(() => {\n            const idx = this.themingParticipants.indexOf(participant);\n            this.themingParticipants.splice(idx, 1);\n        });\n    }\n    getThemingParticipants() {\n        return this.themingParticipants;\n    }\n}\nconst themingRegistry = new ThemingRegistry();\nplatform.Registry.add(Extensions.ThemingContribution, themingRegistry);\nexport function registerThemingParticipant(participant) {\n    return themingRegistry.onColorThemeChange(participant);\n}\n/**\n * Utility base class for all themable components.\n */\nexport class Themable extends Disposable {\n    constructor(themeService) {\n        super();\n        this.themeService = themeService;\n        this.theme = themeService.getColorTheme();\n        // Hook up to theme changes\n        this._register(this.themeService.onDidColorThemeChange(theme => this.onThemeChange(theme)));\n    }\n    onThemeChange(theme) {\n        this.theme = theme;\n        this.updateStyles();\n    }\n    updateStyles() {\n        // Subclasses to override\n    }\n}\n"],"names":["countEOL","text","eolCount","firstLineLength","lastLineStart","eol","i","len","length","chr","charCodeAt","TokenMetadata","getLanguageId","metadata","getTokenType","containsBalancedBrackets","getFontStyle","getForeground","getBackground","getClassNameFromMetadata","className","this","fontStyle","getInlineStyleFromMetadata","colorMap","foreground","result","concat","textDecoration","getPresentationFromMetadata","italic","Boolean","bold","underline","strikethrough","ILanguageService","createDecorator","asCssVariableName","colorIdent","replace","asCssVariable","color","asCssVariableWithDefault","defaultCssValue","Extensions","ColorContribution","colorRegistry","constructor","_onDidChangeSchema","Emitter","onDidChangeSchema","event","colorSchema","type","properties","colorReferenceSchema","enum","enumDescriptions","colorsById","registerColor","id","defaults","description","needsTransparency","arguments","undefined","deprecationMessage","colorContribution","propertySchema","format","defaultSnippets","body","pattern","patternErrorMessage","nls","oneOf","const","push","fire","getColors","Object","keys","map","resolveDefaultColor","theme","colorDesc","resolveColorValue","value","getColorSchema","toString","sort","sorter","a","b","cat1","indexOf","cat2","localeCompare","k","join","darken","colorValue","factor","op","lighten","transparent","_len","colorValues","Array","_key","values","ifDefinedThenElse","ifArg","thenArg","elseArg","if","then","else","lessProminent","backgroundColorValue","transparency","background","Color","fromHex","getColor","transform","_resolveColorValue","_resolveColorValue2","_resolveColorValue3","_resolveColorValue4","backgroundColor","makeOpaque","candidate","defines","from","isDarkerThan","getLighterColor","getDarkerColor","assertNever","executeTransform","platform","add","workbenchColorsSchemaId","schemaRegistry","as","JSONExtensions","JSONContribution","registerSchema","delayer","RunOnceScheduler","notifySchemaChanged","isScheduled","schedule","ColorScheme","isHighContrast","scheme","HIGH_CONTRAST_DARK","HIGH_CONTRAST_LIGHT","isDark","DARK","IThemeService","themeColorFromId","getThemeTypeSelector","ThemingContribution","themingRegistry","themingParticipants","onThemingParticipantAddedEmitter","onColorThemeChange","participant","toDisposable","idx","splice","getThemingParticipants","registerThemingParticipant","Themable","Disposable","themeService","super","getColorTheme","_register","onDidColorThemeChange","onThemeChange","updateStyles"],"sourceRoot":""}